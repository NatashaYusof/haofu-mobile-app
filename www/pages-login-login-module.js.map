{"version":3,"sources":["./src/app/pages/login/login.page.html","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts","./src/app/services/login.service.ts"],"names":[],"mappings":"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","file":"pages-login-login-module.js","sourcesContent":["module.exports = \"<ion-grid>\\n\\t<ion-row justify-content-center>\\n\\n\\t    \\n     \\t\\t<ion-col align-self-center size-md=\\\"10\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n\\n\\t  \\t\\t<div  class=\\\"logo\\\">\\n\\t\\t\\t\\t <img src=\\\"assets/icon/logo.png\\\"  />\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div padding>\\n\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t<ion-input  required type=\\\"text\\\" name=\\\"username\\\" placeholder=\\\"Username\\\" type=\\\"text\\\" [(ngModel)]=\\\"username\\\"></ion-input>\\n\\t\\t\\t\\t</ion-item>\\n\\n\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t<ion-input required type=\\\"password\\\"  placeholder=\\\"Password\\\" type=\\\"password\\\" [(ngModel)]=\\\"userpassword\\\"></ion-input>\\n\\t\\t\\t\\t</ion-item>\\n\\n  <ion-button expand=\\\"block\\\"  (click)=login()>LOGIN</ion-button>\\n  <ion-button expand=\\\"block\\\" routerLink=\\\"\\\">FORGOT PASSWORD</ion-button>\\n  </div>\\n\\t</ion-col>\\n\\t</ion-row>\\n\\t</ion-grid>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"ion-grid {\\n  width: 100%;\\n  height: 100%;\\n  background: #dfdfdf; }\\n\\nion-row {\\n  height: 100%; }\\n\\nion-col {\\n  border: 1px solid #488aff;\\n  background: #fff; }\\n\\n.logo {\\n  width: 40%;\\n  height: auto;\\n  margin: 0 auto;\\n  padding-bottom: 50px;\\n  -webkit-box-align: center;\\n          align-items: center; }\\n\\n.no-border {\\n  border-bottom: 0 !important;\\n  box-shadow: none !important; }\\n\\nion-button {\\n  font-weight: 300; }\\n\\n@media (min-width: 240px) and (max-width: 768px) {\\n  ion-grid {\\n    background: #fff; }\\n  ion-col {\\n    border: none; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vQzpcXHByb2plY3RcXG5hdGFzaGEvc3JjXFxhcHBcXHBhZ2VzXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0VBQ0ksV0FBVTtFQUNWLFlBSlk7RUFLWixtQkFBbUIsRUFBQTs7QUFHdkI7RUFDSSxZQVRZLEVBQUE7O0FBWWhCO0VBQ0kseUJBQXlCO0VBQ3pCLGdCQWZjLEVBQUE7O0FBaUJkO0VBQ0csVUFBVTtFQUNWLFlBQVk7RUFDWixjQUFjO0VBQ2Qsb0JBQW9CO0VBQ3ZCLHlCQUFvQjtVQUFwQixtQkFBb0IsRUFBQTs7QUFFbkI7RUFDRSwyQkFBMkI7RUFDM0IsMkJBQTJCLEVBQUE7O0FBR2xDO0VBQ0ksZ0JBQWdCLEVBQUE7O0FBR3BCO0VBQ0k7SUFDSSxnQkFuQ1UsRUFBQTtFQXFDZDtJQUNJLFlBQVksRUFBQSxFQUNmIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4kd2hpdGUtY29sb3I6ICNmZmY7XG4kaGVpZ2h0MTAwOiAxMDAlO1xuXG5pb24tZ3JpZCB7XG4gICAgd2lkdGg6MTAwJTtcbiAgICBoZWlnaHQ6ICRoZWlnaHQxMDA7XG4gICAgYmFja2dyb3VuZDogI2RmZGZkZjtcbn1cblxuaW9uLXJvdyB7XG4gICAgaGVpZ2h0OiAkaGVpZ2h0MTAwO1xufVxuXG5pb24tY29sIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDg4YWZmO1xuICAgIGJhY2tncm91bmQ6ICR3aGl0ZS1jb2xvcjtcbn1cbiAgICAubG9nbyB7XG4gICAgICAgd2lkdGg6IDQwJTtcbiAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgcGFkZGluZy1ib3R0b206IDUwcHg7XG5cdCAgIGFsaWduLWl0ZW1zIDogY2VudGVyO1xuICAgICB9XG4gICAgIC5uby1ib3JkZXIge1xuICAgICAgIGJvcmRlci1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gICAgIH1cblxuaW9uLWJ1dHRvbiB7XG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcbn1cblxuQG1lZGlhIChtaW4td2lkdGg6IDI0MHB4KSBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICBpb24tZ3JpZCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR3aGl0ZS1jb2xvcjtcbiAgICB9XG4gICAgaW9uLWNvbCB7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICB9XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { LoginService } from '../../services/login.service';\nimport { FormGroup, FormBuilder, FormControl, Validators,FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController } from '@ionic/angular';\n\n\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  user;\n  loading: any;\n  username = \"test@amic.com\";\n  userpassword = \"password\";\n  FormGroup;\n\n  \n  constructor(private http: LoginService, private router: Router, public alertController: AlertController, public loadingController: LoadingController\n   ) { }\n\n  ngOnInit() {\n  this.user= new FormGroup({\n  username: new FormControl('test@amic.com', [Validators.required]),\n  userpassword: new FormControl('password', [Validators.required]),\n  });\n  }\n\n  async presentAlert() {\n    \n    const alert = await this.alertController.create({\n      header: 'Alert',\n      subHeader: 'Access denied',\n      message: 'Wrong username or password.',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n\n\nlogin(): void {\n//  console.log('masuk');\n  console.log(this.username);\n  console.log(this.userpassword);\n\n  this.http.getUser(this.username,this.userpassword).subscribe(\n        response => {\n          this.user = response;\n          console.log(this.user)\n          window.localStorage.setItem('userDetail', JSON.stringify(this.user));\n        \n          if (this.user.employee.employeejobtitle == 'Technician') {\n            this.router.navigateByUrl('/menu/first');\n          } else {\n            this.router.navigateByUrl('/supervisor');\n          }\n\n        }, error => {\n\t\t// tslint:disable-next-line: indent\n    // if error it goes here\n    this.presentAlert();\n        }\n      );\n    }\n\n  }\n\n  // showloader(){\n  //   this.loading=this.loadingCtrl.create({\n  //     content : 'Loading....'\n  //   })\n\n  //   this.loading.present();\n  // }\n\n\n\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map, catchError } from 'rxjs/operators';\nimport { Observable, throwError } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService {\n\n  private baseURL = \"https://haofu.airbusdigital.com/api/hof/mro\"\n  private baseURL2 = \"https://smartmob.haofu.airbusdigital.com/hof-pdf/public/api/\"\n\n  constructor(private http: HttpClient) { }\n\n  // tslint:disable-next-line: variable-name\n\n  getUser(username, userpassword) : Observable<any> {\n    console.log(username+\" \"+userpassword)\n    return this.http.get(this.baseURL+'/user/login?username='+username+'&userpassword='+userpassword)\n      .pipe(\n        map( response => {\n          console.log(response)\n          return response\n        }),\n        catchError((err, caught) => {\n          console.log(err)\n          return throwError(err);\n        })\n      )\n  }\n\n  // getEmployee() : Observable<any> {\n  //   return this.http.get(this.baseURL+'/user')\n  //     .pipe(\n  //       map( response => {\n  //         console.log(response)\n  //         return response;\n  //       }),\n  //       catchError((err, caught) => {\n  //         console.log(err)\n  //         return throwError(err);\n  //       })\n  //     )\n  // }\n\n  getJobcard(employeeid) : Observable<any>{\n    return this.http.get(this.baseURL2+'get-jobcards/'+employeeid+'?remove=stopped,completed')\n    .pipe(\n      map( response => {\n        console.log(response)\n        return response\n      }),\n      catchError((err, caught) => {\n        console.log(err)\n        return throwError(err);\n      })\n    )\n}\n\ngetToTask(jobcardid) : Observable<any> {\n  return this.http.get(this.baseURL+'/jobcard?jobcardid='+jobcardid)\n    .pipe(\n      map( response => {\n        console.log(response)\n        return response;\n      }),\n      catchError((err, caught) => {\n        console.log(err)\n        return throwError(err);\n      })\n    )\n}\n\ngetChildTask(taskid) : Observable<any> {\n  return this.http.get(this.baseURL+'/task?taskid='+taskid)\n    .pipe(\n      map( response => {\n        console.log(response)\n        return response;\n      }),\n      catchError((err, caught) => {\n        console.log(err)\n        return throwError(err);\n      })\n    )\n}\n\n\n}\n"],"sourceRoot":""}